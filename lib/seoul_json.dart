import 'dart:convert';

import 'package:flutter/material.dart';
import 'package:json_table/json_table.dart';

class SeoulJSON extends StatefulWidget {
  const SeoulJSON({Key? key}) : super(key: key);

  @override
  _SeoulJSONState createState() => _SeoulJSONState();
}

class _SeoulJSONState extends State<SeoulJSON> {
  final String jsonSample =
      '[ { "년" : "2012", "월" : "2", "KOSPI" : "2030.25", "GDP" : "30.8", "아파트거래량" : "4628", "고등학교수" : "317" } , { "년" : "2012", "월" : "3", "KOSPI" : "2014.04", "GDP" : "30.8", "아파트거래량" : "5339", "고등학교수" : "317" } , { "년" : "2012", "월" : "4", "KOSPI" : "1981.99", "GDP" : "30.8", "아파트거래량" : "5440", "고등학교수" : "317" } , { "년" : "2012", "월" : "5", "KOSPI" : "1843.47", "GDP" : "30.8", "아파트거래량" : "5099", "고등학교수" : "317" } , { "년" : "2012", "월" : "6", "KOSPI" : "1854.01", "GDP" : "30.8", "아파트거래량" : "4427", "고등학교수" : "317" } , { "년" : "2012", "월" : "7", "KOSPI" : "1881.99", "GDP" : "30.8", "아파트거래량" : "4120", "고등학교수" : "317" } , { "년" : "2012", "월" : "8", "KOSPI" : "1905.12", "GDP" : "30.8", "아파트거래량" : "3190", "고등학교수" : "317" } , { "년" : "2012", "월" : "9", "KOSPI" : "1996.21", "GDP" : "30.8", "아파트거래량" : "3002", "고등학교수" : "317" } , { "년" : "2012", "월" : "10", "KOSPI" : "1912.06", "GDP" : "30.8", "아파트거래량" : "5969", "고등학교수" : "317" } , { "년" : "2012", "월" : "11", "KOSPI" : "1932.9", "GDP" : "30.8", "아파트거래량" : "6897", "고등학교수" : "317" } , { "년" : "2012", "월" : "12", "KOSPI" : "1997.05", "GDP" : "30.8", "아파트거래량" : "9770", "고등학교수" : "317" } , { "년" : "2013", "월" : "1", "KOSPI" : "1961.94", "GDP" : "32.6", "아파트거래량" : "3041", "고등학교수" : "318" } , { "년" : "2013", "월" : "2", "KOSPI" : "2026.49", "GDP" : "32.6", "아파트거래량" : "4211", "고등학교수" : "318" } , { "년" : "2013", "월" : "3", "KOSPI" : "2004.89", "GDP" : "32.6", "아파트거래량" : "6820", "고등학교수" : "318" } , { "년" : "2013", "월" : "4", "KOSPI" : "1963.95", "GDP" : "32.6", "아파트거래량" : "8291", "고등학교수" : "318" } , { "년" : "2013", "월" : "5", "KOSPI" : "2001.05", "GDP" : "32.6", "아파트거래량" : "9537", "고등학교수" : "318" } , { "년" : "2013", "월" : "6", "KOSPI" : "1863.32", "GDP" : "32.6", "아파트거래량" : "12697", "고등학교수" : "318" } , { "년" : "2013", "월" : "7", "KOSPI" : "1914.03", "GDP" : "32.6", "아파트거래량" : "4768", "고등학교수" : "318" } , { "년" : "2013", "월" : "8", "KOSPI" : "1926.36", "GDP" : "32.6", "아파트거래량" : "5460", "고등학교수" : "318" } , { "년" : "2013", "월" : "9", "KOSPI" : "1996.96", "GDP" : "32.6", "아파트거래량" : "6069", "고등학교수" : "318" } , { "년" : "2013", "월" : "10", "KOSPI" : "2030.09", "GDP" : "32.6", "아파트거래량" : "10083", "고등학교수" : "318" } , { "년" : "2013", "월" : "11", "KOSPI" : "2044.87", "GDP" : "32.6", "아파트거래량" : "9649", "고등학교수" : "318" } , { "년" : "2013", "월" : "12", "KOSPI" : "2011.34", "GDP" : "32.6", "아파트거래량" : "10391", "고등학교수" : "318" } , { "년" : "2014", "월" : "1", "KOSPI" : "1941.15", "GDP" : "34.1", "아파트거래량" : "8501", "고등학교수" : "318" } , { "년" : "2014", "월" : "2", "KOSPI" : "1979.99", "GDP" : "34.1", "아파트거래량" : "10089", "고등학교수" : "318" } , { "년" : "2014", "월" : "3", "KOSPI" : "1985.61", "GDP" : "34.1", "아파트거래량" : "12053", "고등학교수" : "318" } , { "년" : "2014", "월" : "4", "KOSPI" : "1961.79", "GDP" : "34.1", "아파트거래량" : "10641", "고등학교수" : "318" } , { "년" : "2014", "월" : "5", "KOSPI" : "1994.96", "GDP" : "34.1", "아파트거래량" : "7682", "고등학교수" : "318" } , { "년" : "2014", "월" : "6", "KOSPI" : "2002.21", "GDP" : "34.1", "아파트거래량" : "7234", "고등학교수" : "318" } , { "년" : "2014", "월" : "7", "KOSPI" : "2076.12", "GDP" : "34.1", "아파트거래량" : "9259", "고등학교수" : "318" } , { "년" : "2014", "월" : "8", "KOSPI" : "2068.54", "GDP" : "34.1", "아파트거래량" : "10838", "고등학교수" : "318" } , { "년" : "2014", "월" : "9", "KOSPI" : "2020.09", "GDP" : "34.1", "아파트거래량" : "12309", "고등학교수" : "318" } , { "년" : "2014", "월" : "10", "KOSPI" : "1964.43", "GDP" : "34.1", "아파트거래량" : "15261", "고등학교수" : "318" } , { "년" : "2014", "월" : "11", "KOSPI" : "1980.78", "GDP" : "34.1", "아파트거래량" : "11437", "고등학교수" : "318" } , { "년" : "2014", "월" : "12", "KOSPI" : "1915.59", "GDP" : "34.1", "아파트거래량" : "9474", "고등학교수" : "318" } , { "년" : "2015", "월" : "1", "KOSPI" : "1949.26", "GDP" : "35.7", "아파트거래량" : "8227", "고등학교수" : "318" } , { "년" : "2015", "월" : "2", "KOSPI" : "1985.8", "GDP" : "35.7", "아파트거래량" : "10085", "고등학교수" : "318" } , { "년" : "2015", "월" : "3", "KOSPI" : "2041.03", "GDP" : "35.7", "아파트거래량" : "15689", "고등학교수" : "318" } , { "년" : "2015", "월" : "4", "KOSPI" : "2127.17", "GDP" : "35.7", "아파트거래량" : "16107", "고등학교수" : "318" } , { "년" : "2015", "월" : "5", "KOSPI" : "2114.8", "GDP" : "35.7", "아파트거래량" : "15673", "고등학교수" : "318" } , { "년" : "2015", "월" : "6", "KOSPI" : "2074.2", "GDP" : "35.7", "아파트거래량" : "14497", "고등학교수" : "318" } , { "년" : "2015", "월" : "7", "KOSPI" : "2030.16", "GDP" : "35.7", "아파트거래량" : "15332", "고등학교수" : "318" } , { "년" : "2015", "월" : "8", "KOSPI" : "1941.49", "GDP" : "35.7", "아파트거래량" : "12605", "고등학교수" : "318" } , { "년" : "2015", "월" : "9", "KOSPI" : "1962.81", "GDP" : "35.7", "아파트거래량" : "10928", "고등학교수" : "318" } , { "년" : "2015", "월" : "10", "KOSPI" : "2029.47", "GDP" : "35.7", "아파트거래량" : "13701", "고등학교수" : "318" } , { "년" : "2015", "월" : "11", "KOSPI" : "1991.97", "GDP" : "35.7", "아파트거래량" : "12691", "고등학교수" : "318" } , { "년" : "2015", "월" : "12", "KOSPI" : "1961.31", "GDP" : "35.7", "아파트거래량" : "10802", "고등학교수" : "318" } , { "년" : "2016", "월" : "1", "KOSPI" : "1912.06", "GDP" : "36.0", "아파트거래량" : "7589", "고등학교수" : "318" } , { "년" : "2016", "월" : "2", "KOSPI" : "1916.66", "GDP" : "36.0", "아파트거래량" : "7520", "고등학교수" : "318" } , { "년" : "2016", "월" : "3", "KOSPI" : "1995.85", "GDP" : "36.0", "아파트거래량" : "10472", "고등학교수" : "318" } , { "년" : "2016", "월" : "4", "KOSPI" : "1994.15", "GDP" : "36.0", "아파트거래량" : "11129", "고등학교수" : "318" } , { "년" : "2016", "월" : "5", "KOSPI" : "1983.4", "GDP" : "36.0", "아파트거래량" : "13094", "고등학교수" : "318" } , { "년" : "2016", "월" : "6", "KOSPI" : "1970.35", "GDP" : "36.0", "아파트거래량" : "14762", "고등학교수" : "318" } , { "년" : "2016", "월" : "7", "KOSPI" : "2016.19", "GDP" : "36.0", "아파트거래량" : "17633", "고등학교수" : "318" } , { "년" : "2016", "월" : "8", "KOSPI" : "2034.65", "GDP" : "36.0", "아파트거래량" : "16519", "고등학교수" : "318" } , { "년" : "2016", "월" : "9", "KOSPI" : "2043.63", "GDP" : "36.0", "아파트거래량" : "13637", "고등학교수" : "318" } , { "년" : "2016", "월" : "10", "KOSPI" : "2008.19", "GDP" : "36.0", "아파트거래량" : "16319", "고등학교수" : "318" } , { "년" : "2016", "월" : "11", "KOSPI" : "1983.48", "GDP" : "36.0", "아파트거래량" : "13838", "고등학교수" : "318" } , { "년" : "2016", "월" : "12", "KOSPI" : "2026.46", "GDP" : "36.0", "아파트거래량" : "12540", "고등학교수" : "318" } , { "년" : "2017", "월" : "1", "KOSPI" : "2067.57", "GDP" : "36.0", "아파트거래량" : "7720", "고등학교수" : "320" } , { "년" : "2017", "월" : "2", "KOSPI" : "2091.64", "GDP" : "36.0", "아파트거래량" : "8064", "고등학교수" : "320" } , { "년" : "2017", "월" : "3", "KOSPI" : "2160.23", "GDP" : "36.0", "아파트거래량" : "9979", "고등학교수" : "320" } , { "년" : "2017", "월" : "4", "KOSPI" : "2205.44", "GDP" : "36.0", "아파트거래량" : "12276", "고등학교수" : "320" } , { "년" : "2017", "월" : "5", "KOSPI" : "2347.38", "GDP" : "36.0", "아파트거래량" : "14593", "고등학교수" : "320" } , { "년" : "2017", "월" : "6", "KOSPI" : "2391.79", "GDP" : "36.0", "아파트거래량" : "19044", "고등학교수" : "320" } , { "년" : "2017", "월" : "7", "KOSPI" : "2402.71", "GDP" : "36.0", "아파트거래량" : "18541", "고등학교수" : "320" } , { "년" : "2017", "월" : "8", "KOSPI" : "2363.19", "GDP" : "36.0", "아파트거래량" : "22647", "고등학교수" : "320" } , { "년" : "2017", "월" : "9", "KOSPI" : "2394.47", "GDP" : "36.0", "아파트거래량" : "14688", "고등학교수" : "320" } , { "년" : "2017", "월" : "10", "KOSPI" : "2523.43", "GDP" : "36.0", "아파트거래량" : "9090", "고등학교수" : "320" } , { "년" : "2017", "월" : "11", "KOSPI" : "2476.37", "GDP" : "36.0", "아파트거래량" : "11616", "고등학교수" : "320" } , { "년" : "2017", "월" : "12", "KOSPI" : "2467.49", "GDP" : "36.0", "아파트거래량" : "16955", "고등학교수" : "320" } , { "년" : "2018", "월" : "1", "KOSPI" : "2566.46", "GDP" : "35.9", "아파트거래량" : "18212", "고등학교수" : "320" } , { "년" : "2018", "월" : "2", "KOSPI" : "2427.36", "GDP" : "35.9", "아파트거래량" : "15305", "고등학교수" : "320" } , { "년" : "2018", "월" : "3", "KOSPI" : "2445.85", "GDP" : "35.9", "아파트거래량" : "20673", "고등학교수" : "320" } , { "년" : "2018", "월" : "4", "KOSPI" : "2515.38", "GDP" : "35.9", "아파트거래량" : "10130", "고등학교수" : "320" } , { "년" : "2018", "월" : "5", "KOSPI" : "2423.01", "GDP" : "35.9", "아파트거래량" : "12312", "고등학교수" : "320" } , { "년" : "2018", "월" : "6", "KOSPI" : "2326.13", "GDP" : "35.9", "아파트거래량" : "9013", "고등학교수" : "320" } , { "년" : "2018", "월" : "7", "KOSPI" : "2295.26", "GDP" : "35.9", "아파트거래량" : "13648", "고등학교수" : "320" } , { "년" : "2018", "월" : "8", "KOSPI" : "2322.88", "GDP" : "35.9", "아파트거래량" : "13182", "고등학교수" : "320" } , { "년" : "2018", "월" : "9", "KOSPI" : "2343.07", "GDP" : "35.9", "아파트거래량" : "17564", "고등학교수" : "320" } , { "년" : "2018", "월" : "10", "KOSPI" : "2029.69", "GDP" : "35.9", "아파트거래량" : "16609", "고등학교수" : "320" } , { "년" : "2018", "월" : "11", "KOSPI" : "2096.86", "GDP" : "35.9", "아파트거래량" : "7848", "고등학교수" : "320" } , { "년" : "2018", "월" : "12", "KOSPI" : "2041.04", "GDP" : "35.9", "아파트거래량" : "6590", "고등학교수" : "320" } , { "년" : "2019", "월" : "1", "KOSPI" : "2204.85", "GDP" : "37.6", "아파트거래량" : "7000", "고등학교수" : "320" } , { "년" : "2019", "월" : "2", "KOSPI" : "2195.44", "GDP" : "37.6", "아파트거래량" : "4625", "고등학교수" : "320" } , { "년" : "2019", "월" : "3", "KOSPI" : "2140.67", "GDP" : "37.6", "아파트거래량" : "6464", "고등학교수" : "320" } , { "년" : "2019", "월" : "4", "KOSPI" : "2203.59", "GDP" : "37.6", "아파트거래량" : "6275", "고등학교수" : "320" } , { "년" : "2019", "월" : "5", "KOSPI" : "2041.74", "GDP" : "37.6", "아파트거래량" : "7278", "고등학교수" : "320" } , { "년" : "2019", "월" : "6", "KOSPI" : "2130.62", "GDP" : "37.6", "아파트거래량" : "11205", "고등학교수" : "320" } , { "년" : "2019", "월" : "7", "KOSPI" : "2024.55", "GDP" : "37.6", "아파트거래량" : "13597", "고등학교수" : "320" } , { "년" : "2019", "월" : "8", "KOSPI" : "1967.79", "GDP" : "37.6", "아파트거래량" : "13960", "고등학교수" : "320" } , { "년" : "2019", "월" : "9", "KOSPI" : "2063.05", "GDP" : "37.6", "아파트거래량" : "11483", "고등학교수" : "320" } , { "년" : "2019", "월" : "10", "KOSPI" : "2083.48", "GDP" : "37.6", "아파트거래량" : "14393", "고등학교수" : "320" } , { "년" : "2019", "월" : "11", "KOSPI" : "2087.96", "GDP" : "37.6", "아파트거래량" : "15032", "고등학교수" : "320" } , { "년" : "2019", "월" : "12", "KOSPI" : "2197.67", "GDP" : "37.6", "아파트거래량" : "18298", "고등학교수" : "320" } , { "년" : "2020", "월" : "1", "KOSPI" : "2119.01", "GDP" : "43.8", "아파트거래량" : "17545", "고등학교수" : "320" } , { "년" : "2020", "월" : "2", "KOSPI" : "1987.01", "GDP" : "43.8", "아파트거래량" : "16515", "고등학교수" : "320" } , { "년" : "2020", "월" : "3", "KOSPI" : "1754.64", "GDP" : "43.8", "아파트거래량" : "15521", "고등학교수" : "320" } , { "년" : "2020", "월" : "4", "KOSPI" : "1947.56", "GDP" : "43.8", "아파트거래량" : "7332", "고등학교수" : "320" } , { "년" : "2020", "월" : "5", "KOSPI" : "2029.6", "GDP" : "43.8", "아파트거래량" : "9767", "고등학교수" : "320" } , { "년" : "2020", "월" : "6", "KOSPI" : "2108.33", "GDP" : "43.8", "아파트거래량" : "15761", "고등학교수" : "320" } , { "년" : "2020", "월" : "7", "KOSPI" : "2249.37", "GDP" : "43.8", "아파트거래량" : "24038", "고등학교수" : "320" } , { "년" : "2020", "월" : "8", "KOSPI" : "2326.17", "GDP" : "43.8", "아파트거래량" : "12277", "고등학교수" : "320" } , { "년" : "2020", "월" : "9", "KOSPI" : "2327.89", "GDP" : "43.8", "아파트거래량" : "13207", "고등학교수" : "320" } , { "년" : "2020", "월" : "10", "KOSPI" : "2267.15", "GDP" : "43.8", "아파트거래량" : "10276", "고등학교수" : "320" } , { "년" : "2020", "월" : "11", "KOSPI" : "2591.34", "GDP" : "43.8", "아파트거래량" : "10548", "고등학교수" : "320" } , { "년" : "2020", "월" : "12", "KOSPI" : "2873.47", "GDP" : "43.8", "아파트거래량" : "14060", "고등학교수" : "320" } , { "년" : "2021", "월" : "1", "KOSPI" : "2976.21", "GDP" : "47.3", "아파트거래량" : "14004", "고등학교수" : "320" } , { "년" : "2021", "월" : "2", "KOSPI" : "3012.95", "GDP" : "47.3", "아파트거래량" : "8804", "고등학교수" : "320" } , { "년" : "2021", "월" : "3", "KOSPI" : "3061.42", "GDP" : "47.3", "아파트거래량" : "8336", "고등학교수" : "320" } , { "년" : "2021", "월" : "4", "KOSPI" : "3147.86", "GDP" : "47.3", "아파트거래량" : "11709", "고등학교수" : "320" } , { "년" : "2021", "월" : "5", "KOSPI" : "3203.92", "GDP" : "47.3", "아파트거래량" : "9428", "고등학교수" : "320" } , { "년" : "2021", "월" : "6", "KOSPI" : "3296.68", "GDP" : "47.3", "아파트거래량" : "7421", "고등학교수" : "320" } , { "년" : "2021", "월" : "7", "KOSPI" : "3202.32", "GDP" : "47.3", "아파트거래량" : "7848", "고등학교수" : "320" } , { "년" : "2021", "월" : "8", "KOSPI" : "3199.27", "GDP" : "47.3", "아파트거래량" : "6655", "고등학교수" : "320" } , { "년" : "2021", "월" : "9", "KOSPI" : "3068.82", "GDP" : "47.3", "아파트거래량" : "5759", "고등학교수" : "320" } ]';
  bool toggle = true;

  @override
  Widget build(BuildContext context) {
    var json = jsonDecode(jsonSample);
    return Scaffold(
      appBar: AppBar(
        title: const Text('데이터'),
        backgroundColor: Colors.orange,
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.fromLTRB(15, 50, 15, 0),
        child: Container(
          child: toggle
              ? Column(
                  children: [
                    JsonTable(
                      json,
                      showColumnToggle: true,
                      allowRowHighlight: true,
                      rowHighlightColor: Colors.yellow[500]!.withOpacity(0.7),
                      paginationRowCount: 11,
                      onRowSelect: (index, map) {
                        print(index);
                        print(map);
                      },
                    ),
                    const SizedBox(
                      height: 40.0,
                    ),
                    const Text("지역 : 서울"),
                    const Text("기간 : 2012년 2월 ~ 2021년 9월"),
                  ],
                )
              : Center(
                  child: Text(getPrettyJSONString(jsonSample)),
                ),
        ),
      ),
    );
  }

  String getPrettyJSONString(jsonObject) {
    JsonEncoder encoder = const JsonEncoder.withIndent('  ');
    String jsonString = encoder.convert(json.decode(jsonObject));
    return jsonString;
  }
}
