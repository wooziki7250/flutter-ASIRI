import 'dart:convert';

import 'package:flutter/material.dart';
import 'package:json_table/json_table.dart';

class SudoJSON extends StatefulWidget {
  const SudoJSON({Key? key}) : super(key: key);

  @override
  _SudoJSONState createState() => _SudoJSONState();
}

class _SudoJSONState extends State<SudoJSON> {
  final String jsonSample =
      '[ { "년" : "2012", "월" : "2", "초중고합계" : "2691", "KOSPI" : "2030.25", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "12888" } , { "년" : "2012", "월" : "3", "초중고합계" : "2691", "KOSPI" : "2014.04", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "17667" } , { "년" : "2012", "월" : "4", "초중고합계" : "2691", "KOSPI" : "1981.99", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "16671" } , { "년" : "2012", "월" : "5", "초중고합계" : "2691", "KOSPI" : "1843.47", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "16511" } , { "년" : "2012", "월" : "6", "초중고합계" : "2691", "KOSPI" : "1854.01", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "14273" } , { "년" : "2012", "월" : "7", "초중고합계" : "2691", "KOSPI" : "1881.99", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "15114" } , { "년" : "2012", "월" : "8", "초중고합계" : "2691", "KOSPI" : "1905.12", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "14383" } , { "년" : "2012", "월" : "9", "초중고합계" : "2691", "KOSPI" : "1996.21", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "13322" } , { "년" : "2012", "월" : "10", "초중고합계" : "2691", "KOSPI" : "1912.06", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "20942" } , { "년" : "2012", "월" : "11", "초중고합계" : "2691", "KOSPI" : "1932.9", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "20452" } , { "년" : "2012", "월" : "12", "초중고합계" : "2691", "KOSPI" : "1997.05", "경제성장률" : "2.4", "GDP" : "30.8", "아파트거래량" : "27727" } , { "년" : "2013", "월" : "1", "초중고합계" : "2726", "KOSPI" : "1961.94", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "13369" } , { "년" : "2013", "월" : "2", "초중고합계" : "2726", "KOSPI" : "2026.49", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "14012" } , { "년" : "2013", "월" : "3", "초중고합계" : "2726", "KOSPI" : "2004.89", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "16843" } , { "년" : "2013", "월" : "4", "초중고합계" : "2726", "KOSPI" : "1963.95", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "21644" } , { "년" : "2013", "월" : "5", "초중고합계" : "2726", "KOSPI" : "2001.05", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "24828" } , { "년" : "2013", "월" : "6", "초중고합계" : "2726", "KOSPI" : "1863.32", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "32058" } , { "년" : "2013", "월" : "7", "초중고합계" : "2726", "KOSPI" : "1914.03", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "15160" } , { "년" : "2013", "월" : "8", "초중고합계" : "2726", "KOSPI" : "1926.36", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "13680" } , { "년" : "2013", "월" : "9", "초중고합계" : "2726", "KOSPI" : "1996.96", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "16905" } , { "년" : "2013", "월" : "10", "초중고합계" : "2726", "KOSPI" : "2030.09", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "27527" } , { "년" : "2013", "월" : "11", "초중고합계" : "2726", "KOSPI" : "2044.87", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "24615" } , { "년" : "2013", "월" : "12", "초중고합계" : "2726", "KOSPI" : "2011.34", "경제성장률" : "3.2", "GDP" : "32.6", "아파트거래량" : "26245" } , { "년" : "2014", "월" : "1", "초중고합계" : "2747", "KOSPI" : "1941.15", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "19066" } , { "년" : "2014", "월" : "2", "초중고합계" : "2747", "KOSPI" : "1979.99", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "24576" } , { "년" : "2014", "월" : "3", "초중고합계" : "2747", "KOSPI" : "1985.61", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "27063" } , { "년" : "2014", "월" : "4", "초중고합계" : "2747", "KOSPI" : "1961.79", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "25770" } , { "년" : "2014", "월" : "5", "초중고합계" : "2747", "KOSPI" : "1994.96", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "21303" } , { "년" : "2014", "월" : "6", "초중고합계" : "2747", "KOSPI" : "2002.21", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "19258" } , { "년" : "2014", "월" : "7", "초중고합계" : "2747", "KOSPI" : "2076.12", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "22122" } , { "년" : "2014", "월" : "8", "초중고합계" : "2747", "KOSPI" : "2068.54", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "23560" } , { "년" : "2014", "월" : "9", "초중고합계" : "2747", "KOSPI" : "2020.09", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "27298" } , { "년" : "2014", "월" : "10", "초중고합계" : "2747", "KOSPI" : "1964.43", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "35378" } , { "년" : "2014", "월" : "11", "초중고합계" : "2747", "KOSPI" : "1980.78", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "27474" } , { "년" : "2014", "월" : "12", "초중고합계" : "2747", "KOSPI" : "1915.59", "경제성장률" : "3.2", "GDP" : "34.1", "아파트거래량" : "24647" } , { "년" : "2015", "월" : "1", "초중고합계" : "2786", "KOSPI" : "1949.26", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "23002" } , { "년" : "2015", "월" : "2", "초중고합계" : "2786", "KOSPI" : "1985.8", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "24098" } , { "년" : "2015", "월" : "3", "초중고합계" : "2786", "KOSPI" : "2041.03", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "35930" } , { "년" : "2015", "월" : "4", "초중고합계" : "2786", "KOSPI" : "2127.17", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "37407" } , { "년" : "2015", "월" : "5", "초중고합계" : "2786", "KOSPI" : "2114.8", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "32772" } , { "년" : "2015", "월" : "6", "초중고합계" : "2786", "KOSPI" : "2074.2", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "32423" } , { "년" : "2015", "월" : "7", "초중고합계" : "2786", "KOSPI" : "2030.16", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "32037" } , { "년" : "2015", "월" : "8", "초중고합계" : "2786", "KOSPI" : "1941.49", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "29774" } , { "년" : "2015", "월" : "9", "초중고합계" : "2786", "KOSPI" : "1962.81", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "30815" } , { "년" : "2015", "월" : "10", "초중고합계" : "2786", "KOSPI" : "2029.47", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "34082" } , { "년" : "2015", "월" : "11", "초중고합계" : "2786", "KOSPI" : "1991.97", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "32028" } , { "년" : "2015", "월" : "12", "초중고합계" : "2786", "KOSPI" : "1961.31", "경제성장률" : "2.8", "GDP" : "35.7", "아파트거래량" : "27448" } , { "년" : "2016", "월" : "1", "초중고합계" : "2822", "KOSPI" : "1912.06", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "21442" } , { "년" : "2016", "월" : "2", "초중고합계" : "2822", "KOSPI" : "1916.66", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "19186" } , { "년" : "2016", "월" : "3", "초중고합계" : "2822", "KOSPI" : "1995.85", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "25445" } , { "년" : "2016", "월" : "4", "초중고합계" : "2822", "KOSPI" : "1994.15", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "27255" } , { "년" : "2016", "월" : "5", "초중고합계" : "2822", "KOSPI" : "1983.4", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "28665" } , { "년" : "2016", "월" : "6", "초중고합계" : "2822", "KOSPI" : "1970.35", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "32206" } , { "년" : "2016", "월" : "7", "초중고합계" : "2822", "KOSPI" : "2016.19", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "36909" } , { "년" : "2016", "월" : "8", "초중고합계" : "2822", "KOSPI" : "2034.65", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "39107" } , { "년" : "2016", "월" : "9", "초중고합계" : "2822", "KOSPI" : "2043.63", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "34538" } , { "년" : "2016", "월" : "10", "초중고합계" : "2822", "KOSPI" : "2008.19", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "41185" } , { "년" : "2016", "월" : "11", "초중고합계" : "2822", "KOSPI" : "1983.48", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "36666" } , { "년" : "2016", "월" : "12", "초중고합계" : "2822", "KOSPI" : "2026.46", "경제성장률" : "2.9", "GDP" : "36.0", "아파트거래량" : "32388" } , { "년" : "2017", "월" : "1", "초중고합계" : "2846", "KOSPI" : "2067.57", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "22756" } , { "년" : "2017", "월" : "2", "초중고합계" : "2846", "KOSPI" : "2091.64", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "21772" } , { "년" : "2017", "월" : "3", "초중고합계" : "2846", "KOSPI" : "2160.23", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "31355" } , { "년" : "2017", "월" : "4", "초중고합계" : "2846", "KOSPI" : "2205.44", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "29604" } , { "년" : "2017", "월" : "5", "초중고합계" : "2846", "KOSPI" : "2347.38", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "33447" } , { "년" : "2017", "월" : "6", "초중고합계" : "2846", "KOSPI" : "2391.79", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "40856" } , { "년" : "2017", "월" : "7", "초중고합계" : "2846", "KOSPI" : "2402.71", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "48925" } , { "년" : "2017", "월" : "8", "초중고합계" : "2846", "KOSPI" : "2363.19", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "53929" } , { "년" : "2017", "월" : "9", "초중고합계" : "2846", "KOSPI" : "2394.47", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "48651" } , { "년" : "2017", "월" : "10", "초중고합계" : "2846", "KOSPI" : "2523.43", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "44102" } , { "년" : "2017", "월" : "11", "초중고합계" : "2846", "KOSPI" : "2476.37", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "44549" } , { "년" : "2017", "월" : "12", "초중고합계" : "2846", "KOSPI" : "2467.49", "경제성장률" : "3.2", "GDP" : "36.0", "아파트거래량" : "41536" } , { "년" : "2018", "월" : "1", "초중고합계" : "2870", "KOSPI" : "2566.46", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "47007" } , { "년" : "2018", "월" : "2", "초중고합계" : "2870", "KOSPI" : "2427.36", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "44124" } , { "년" : "2018", "월" : "3", "초중고합계" : "2870", "KOSPI" : "2445.85", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "50255" } , { "년" : "2018", "월" : "4", "초중고합계" : "2870", "KOSPI" : "2515.38", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "40315" } , { "년" : "2018", "월" : "5", "초중고합계" : "2870", "KOSPI" : "2423.01", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "41076" } , { "년" : "2018", "월" : "6", "초중고합계" : "2870", "KOSPI" : "2326.13", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "40169" } , { "년" : "2018", "월" : "7", "초중고합계" : "2870", "KOSPI" : "2295.26", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "44784" } , { "년" : "2018", "월" : "8", "초중고합계" : "2870", "KOSPI" : "2322.88", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "44479" } , { "년" : "2018", "월" : "9", "초중고합계" : "2870", "KOSPI" : "2343.07", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "48057" } , { "년" : "2018", "월" : "10", "초중고합계" : "2870", "KOSPI" : "2029.69", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "55408" } , { "년" : "2018", "월" : "11", "초중고합계" : "2870", "KOSPI" : "2096.86", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "39603" } , { "년" : "2018", "월" : "12", "초중고합계" : "2870", "KOSPI" : "2041.04", "경제성장률" : "2.9", "GDP" : "35.9", "아파트거래량" : "30710" } , { "년" : "2019", "월" : "1", "초중고합계" : "2892", "KOSPI" : "2204.85", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "36515" } , { "년" : "2019", "월" : "2", "초중고합계" : "2892", "KOSPI" : "2195.44", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "34649" } , { "년" : "2019", "월" : "3", "초중고합계" : "2892", "KOSPI" : "2140.67", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "39211" } , { "년" : "2019", "월" : "4", "초중고합계" : "2892", "KOSPI" : "2203.59", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "34197" } , { "년" : "2019", "월" : "5", "초중고합계" : "2892", "KOSPI" : "2041.74", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "31656" } , { "년" : "2019", "월" : "6", "초중고합계" : "2892", "KOSPI" : "2130.62", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "33101" } , { "년" : "2019", "월" : "7", "초중고합계" : "2892", "KOSPI" : "2024.55", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "40522" } , { "년" : "2019", "월" : "8", "초중고합계" : "2892", "KOSPI" : "1967.79", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "42766" } , { "년" : "2019", "월" : "9", "초중고합계" : "2892", "KOSPI" : "2063.05", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "40327" } , { "년" : "2019", "월" : "10", "초중고합계" : "2892", "KOSPI" : "2083.48", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "49296" } , { "년" : "2019", "월" : "11", "초중고합계" : "2892", "KOSPI" : "2087.96", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "49113" } , { "년" : "2019", "월" : "12", "초중고합계" : "2892", "KOSPI" : "2197.67", "경제성장률" : "2.2", "GDP" : "37.6", "아파트거래량" : "49672" } , { "년" : "2020", "월" : "1", "초중고합계" : "2930", "KOSPI" : "2119.01", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "56894" } , { "년" : "2020", "월" : "2", "초중고합계" : "2930", "KOSPI" : "1987.01", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "67044" } , { "년" : "2020", "월" : "3", "초중고합계" : "2930", "KOSPI" : "1754.64", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "58275" } , { "년" : "2020", "월" : "4", "초중고합계" : "2930", "KOSPI" : "1947.56", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "33653" } , { "년" : "2020", "월" : "5", "초중고합계" : "2930", "KOSPI" : "2029.6", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "37458" } , { "년" : "2020", "월" : "6", "초중고합계" : "2930", "KOSPI" : "2108.33", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "64911" } , { "년" : "2020", "월" : "7", "초중고합계" : "2930", "KOSPI" : "2249.37", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "61771" } , { "년" : "2020", "월" : "8", "초중고합계" : "2930", "KOSPI" : "2326.17", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "39606" } , { "년" : "2020", "월" : "9", "초중고합계" : "2930", "KOSPI" : "2327.89", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "39272" } , { "년" : "2020", "월" : "10", "초중고합계" : "2930", "KOSPI" : "2267.15", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "41926" } , { "년" : "2020", "월" : "11", "초중고합계" : "2930", "KOSPI" : "2591.34", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "37995" } , { "년" : "2020", "월" : "12", "초중고합계" : "2930", "KOSPI" : "2873.47", "경제성장률" : "-0.9", "GDP" : "43.8", "아파트거래량" : "58340" } , { "년" : "2021", "월" : "1", "초중고합계" : "2930", "KOSPI" : "2976.21", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "42008" } , { "년" : "2021", "월" : "2", "초중고합계" : "2930", "KOSPI" : "3012.95", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "38964" } , { "년" : "2021", "월" : "3", "초중고합계" : "2930", "KOSPI" : "3061.42", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "41762" } , { "년" : "2021", "월" : "4", "초중고합계" : "2930", "KOSPI" : "3147.86", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "42445" } , { "년" : "2021", "월" : "5", "초중고합계" : "2930", "KOSPI" : "3203.92", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "39742" } , { "년" : "2021", "월" : "6", "초중고합계" : "2930", "KOSPI" : "3296.68", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "37803" } , { "년" : "2021", "월" : "7", "초중고합계" : "2930", "KOSPI" : "3202.32", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "36142" } , { "년" : "2021", "월" : "8", "초중고합계" : "2930", "KOSPI" : "3199.27", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "34026" } , { "년" : "2021", "월" : "9", "초중고합계" : "2930", "KOSPI" : "3068.82", "경제성장률" : "-0.9", "GDP" : "47.3", "아파트거래량" : "30127" } ]';
  bool toggle = true;

  @override
  Widget build(BuildContext context) {
    var json = jsonDecode(jsonSample);
    return Scaffold(
      appBar: AppBar(
        title: const Text('데이터'),
        backgroundColor: Colors.orange,
      ),
      body: SingleChildScrollView(
        padding: const EdgeInsets.fromLTRB(11, 50, 11, 0),
        child: Container(
          child: toggle
              ? Column(
                  children: [
                    JsonTable(
                      json,
                      showColumnToggle: true,
                      allowRowHighlight: true,
                      rowHighlightColor: Colors.yellow[500]!.withOpacity(0.7),
                      paginationRowCount: 11,
                      onRowSelect: (index, map) {
                        print(index);
                        print(map);
                      },
                    ),
                    const SizedBox(
                      height: 40.0,
                    ),
                    const Text("지역 : 수도권"),
                    const Text("기간 : 2012년 2월 ~ 2021년 9월"),
                  ],
                )
              : Center(
                  child: Text(getPrettyJSONString(jsonSample)),
                ),
        ),
      ),
    );
  }

  String getPrettyJSONString(jsonObject) {
    JsonEncoder encoder = const JsonEncoder.withIndent('  ');
    String jsonString = encoder.convert(json.decode(jsonObject));
    return jsonString;
  }
}
